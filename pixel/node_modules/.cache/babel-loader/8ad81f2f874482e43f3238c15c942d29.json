{"ast":null,"code":"var _jsxFileName = \"/Users/akshath/OneDrive - University of Waterloo/Pixel/pixel/src/components/Login/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport firebaseConfig from './firebase.config';\nimport Navbar from '../Home/Navbar/Navbar';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUserPlus } from '@fortawesome/free-solid-svg-icons';\nimport { UserContext } from '../../App';\nimport { useHistory, useLocation } from 'react-router';\nimport { createUserWithEmailAndPassword, handleGoogleSignIn, initializeLoginFramework, signInWithEmailAndPassword } from './LoginForm';\nimport './Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  if (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n  } else {\n    firebase.app();\n  }\n\n  const [loggedInUser, setLoggedInUser] = useContext(UserContext);\n  const history = useHistory();\n  const location = useLocation();\n  const {\n    from\n  } = location.state || {\n    from: {\n      pathname: \"/\"\n    }\n  };\n  const [newUser, setNewUser] = useState(false);\n  const [user, setUser] = useState({\n    isSignedIn: false,\n    name: '',\n    email: '',\n    password: ''\n  });\n  initializeLoginFramework();\n\n  const googleSignIn = () => {\n    handleGoogleSignIn().then(res => {\n      handleResponse(res, true);\n    });\n  };\n\n  const handleResponse = (res, redirect) => {\n    setUser(res);\n    setLoggedInUser(res);\n\n    if (redirect) {\n      history.replace(from);\n    }\n  };\n\n  const handleBlur = e => {\n    let isFieldValid = true;\n\n    if (e.target.name === 'email') {\n      isFieldValid = /\\S+@\\S+\\.\\S+/.test(e.target.value);\n    } else {\n      /*#__PURE__*/\n      _jsxDEV(\"h1\", {\n        children: \"jdhsahdkj\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 16\n      }, this);\n    }\n\n    if (e.target.name === 'password') {\n      const isPasswordValid = e.target.value.length > 6;\n      const passwordHasNumber = /\\d{1}/.test(e.target.value);\n      isFieldValid = isPasswordValid && passwordHasNumber;\n    }\n\n    if (isFieldValid) {\n      const newUserInfo = { ...user\n      };\n      newUserInfo[e.target.name] = e.target.value;\n      setUser(newUserInfo);\n    }\n  };\n\n  const handleSubmit = e => {\n    if (newUser && user.email && user.password) {\n      createUserWithEmailAndPassword(user.name, user.email, user.password).then(res => {\n        handleResponse(res, true);\n      });\n    }\n\n    if (!newUser && user.email && user.password) {\n      signInWithEmailAndPassword(user.email, user.password).then(res => {\n        handleResponse(res, true);\n      });\n    }\n\n    e.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    \"data-testid\": \"test-Login\",\n    className: \"logIn\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" pt-5 text-light\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-light px-5 mx-5\",\n          children: \"Welcome To Pixel .Please Sign In With Your Google To Go Further...!!!!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row d-flex align-items-center justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center justify-content-center pt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"booking-area\",\n              className: \"booking-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-center\",\n                children: \"Pixel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit,\n                x: true,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group \",\n                  children: [newUser && /*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"exampleInputName\",\n                    className: \"col-md-12\",\n                    children: \"Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 53\n                  }, this), newUser && /*#__PURE__*/_jsxDEV(\"input\", {\n                    class: \"form-control text-dark\",\n                    type: \"text\",\n                    name: \"name\",\n                    onBlur: handleBlur,\n                    placeholder: \"Your Name\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"exampleInputEmail1\",\n                    children: \"Email address\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    class: \"form-control text-dark\",\n                    type: \"text\",\n                    name: \"email\",\n                    onBlur: handleBlur,\n                    placeholder: \"Your Email address\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"exampleInputPassword1\",\n                    children: \"Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    name: \"password\",\n                    onBlur: handleBlur,\n                    placeholder: \"Your Password\",\n                    class: \"form-control text-dark\",\n                    id: \"exampleInputPassword1\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-grid\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"btn-lg  btn-block btn-danger\",\n                    type: \"submit\",\n                    value: newUser ? 'Sign Up' : 'Sign In'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: newUser ? /*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: [\"Signed Up Already??? Ok Then \", /*#__PURE__*/_jsxDEV(\"a\", {\n                      className: \"text-danger\",\n                      onClick: () => setNewUser(!newUser),\n                      href: \"#\",\n                      children: \"Sign In\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 119,\n                      columnNumber: 78\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 45\n                  }, this) : /*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: [\"New Here??? Become One Of Us \", /*#__PURE__*/_jsxDEV(\"a\", {\n                      className: \"text-danger\",\n                      onClick: () => setNewUser(!newUser),\n                      href: \"#\",\n                      children: \"Sign Up\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 78\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: 'red'\n                },\n                children: user.error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 33\n              }, this), user.success && /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: 'green'\n                },\n                children: [\"User \", newUser ? 'created' : 'Logged In', \" successfully\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 50\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center pt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                width: \"380px\"\n              },\n              onClick: googleSignIn,\n              className: \"btn btn-danger btn-block btn-lg mt-1\",\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faUserPlus\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 136\n              }, this), \" Sign In With Google \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"lottie-player\", {\n            src: \"https://assets5.lottiefiles.com/packages/lf20_AXoQyR.json\",\n            background: \"transparent\",\n            speed: \"1\",\n            style: {\n              height: \"600px\"\n            },\n            loop: true,\n            autoplay: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"iCYhONkXkhIHNnjePjnDieMtvzM=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/akshath/OneDrive - University of Waterloo/Pixel/pixel/src/components/Login/Login.js"],"names":["React","useContext","useState","firebase","firebaseConfig","Navbar","FontAwesomeIcon","faUserPlus","UserContext","useHistory","useLocation","createUserWithEmailAndPassword","handleGoogleSignIn","initializeLoginFramework","signInWithEmailAndPassword","Login","apps","length","initializeApp","app","loggedInUser","setLoggedInUser","history","location","from","state","pathname","newUser","setNewUser","user","setUser","isSignedIn","name","email","password","googleSignIn","then","res","handleResponse","redirect","replace","handleBlur","e","isFieldValid","target","test","value","isPasswordValid","passwordHasNumber","newUserInfo","handleSubmit","preventDefault","color","error","success","width","height"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,OAAO,eAAP;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,UAAT,QAA2B,mCAA3B;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,cAAxC;AACA,SAASC,8BAAT,EAAyCC,kBAAzC,EAA6DC,wBAA7D,EAAuFC,0BAAvF,QAAyH,aAAzH;AAEA,OAAO,aAAP;;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAChB,MAAI,CAACZ,QAAQ,CAACa,IAAT,CAAcC,MAAnB,EAA2B;AACvBd,IAAAA,QAAQ,CAACe,aAAT,CAAuBd,cAAvB;AACH,GAFD,MAEO;AACHD,IAAAA,QAAQ,CAACgB,GAAT;AACH;;AAED,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCpB,UAAU,CAACO,WAAD,CAAlD;AACA,QAAMc,OAAO,GAAGb,UAAU,EAA1B;AACA,QAAMc,QAAQ,GAAGb,WAAW,EAA5B;AACA,QAAM;AAAEc,IAAAA;AAAF,MAAWD,QAAQ,CAACE,KAAT,IAAkB;AAAED,IAAAA,IAAI,EAAE;AAAEE,MAAAA,QAAQ,EAAE;AAAZ;AAAR,GAAnC;AAKA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwB1B,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAAC2B,IAAD,EAAOC,OAAP,IAAkB5B,QAAQ,CAAC;AAC7B6B,IAAAA,UAAU,EAAE,KADiB;AAE7BC,IAAAA,IAAI,EAAE,EAFuB;AAG7BC,IAAAA,KAAK,EAAE,EAHsB;AAI7BC,IAAAA,QAAQ,EAAE;AAJmB,GAAD,CAAhC;AAMArB,EAAAA,wBAAwB;;AAGxB,QAAMsB,YAAY,GAAG,MAAM;AACvBvB,IAAAA,kBAAkB,GACbwB,IADL,CACUC,GAAG,IAAI;AACTC,MAAAA,cAAc,CAACD,GAAD,EAAM,IAAN,CAAd;AACH,KAHL;AAIH,GALD;;AAOA,QAAMC,cAAc,GAAG,CAACD,GAAD,EAAME,QAAN,KAAmB;AACtCT,IAAAA,OAAO,CAACO,GAAD,CAAP;AACAhB,IAAAA,eAAe,CAACgB,GAAD,CAAf;;AACA,QAAIE,QAAJ,EAAc;AACVjB,MAAAA,OAAO,CAACkB,OAAR,CAAgBhB,IAAhB;AACH;AACJ,GAND;;AAQA,QAAMiB,UAAU,GAAIC,CAAD,IAAO;AACtB,QAAIC,YAAY,GAAG,IAAnB;;AACA,QAAID,CAAC,CAACE,MAAF,CAASZ,IAAT,KAAkB,OAAtB,EAA+B;AAC3BW,MAAAA,YAAY,GAAG,eAAeE,IAAf,CAAoBH,CAAC,CAACE,MAAF,CAASE,KAA7B,CAAf;AACH,KAFD,MAGK;AAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoB;;AAC3B,QAAIJ,CAAC,CAACE,MAAF,CAASZ,IAAT,KAAkB,UAAtB,EAAkC;AAC9B,YAAMe,eAAe,GAAGL,CAAC,CAACE,MAAF,CAASE,KAAT,CAAe7B,MAAf,GAAwB,CAAhD;AACA,YAAM+B,iBAAiB,GAAG,QAAQH,IAAR,CAAaH,CAAC,CAACE,MAAF,CAASE,KAAtB,CAA1B;AACAH,MAAAA,YAAY,GAAGI,eAAe,IAAIC,iBAAlC;AACH;;AACD,QAAIL,YAAJ,EAAkB;AACd,YAAMM,WAAW,GAAG,EAAE,GAAGpB;AAAL,OAApB;AACAoB,MAAAA,WAAW,CAACP,CAAC,CAACE,MAAF,CAASZ,IAAV,CAAX,GAA6BU,CAAC,CAACE,MAAF,CAASE,KAAtC;AACAhB,MAAAA,OAAO,CAACmB,WAAD,CAAP;AACH;AACJ,GAhBD;;AAiBA,QAAMC,YAAY,GAAIR,CAAD,IAAO;AACxB,QAAIf,OAAO,IAAIE,IAAI,CAACI,KAAhB,IAAyBJ,IAAI,CAACK,QAAlC,EAA4C;AACxCvB,MAAAA,8BAA8B,CAACkB,IAAI,CAACG,IAAN,EAAYH,IAAI,CAACI,KAAjB,EAAwBJ,IAAI,CAACK,QAA7B,CAA9B,CACKE,IADL,CACUC,GAAG,IAAI;AACTC,QAAAA,cAAc,CAACD,GAAD,EAAM,IAAN,CAAd;AACH,OAHL;AAIH;;AAED,QAAI,CAACV,OAAD,IAAYE,IAAI,CAACI,KAAjB,IAA0BJ,IAAI,CAACK,QAAnC,EAA6C;AACzCpB,MAAAA,0BAA0B,CAACe,IAAI,CAACI,KAAN,EAAaJ,IAAI,CAACK,QAAlB,CAA1B,CACKE,IADL,CACUC,GAAG,IAAI;AACTC,QAAAA,cAAc,CAACD,GAAD,EAAM,IAAN,CAAd;AACH,OAHL;AAIH;;AACDK,IAAAA,CAAC,CAACS,cAAF;AAEH,GAhBD;;AAiBA,sBACI;AAAK,mBAAY,YAAjB;AAA8B,IAAA,SAAS,EAAC,OAAxC;AAAA,4BACI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,+BACI;AAAI,UAAA,SAAS,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAKI;AAAK,QAAA,SAAS,EAAC,sDAAf;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,uDAAf;AAAA,mCACI;AAAK,cAAA,EAAE,EAAC,cAAR;AAAuB,cAAA,SAAS,EAAC,cAAjC;AAAA,sCACI;AAAI,gBAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAM,gBAAA,QAAQ,EAAED,YAAhB;AAA8B,gBAAA,CAAC,MAA/B;AAAA,wCACI;AAAK,kBAAA,SAAS,EAAC,aAAf;AAAA,6BACKvB,OAAO,iBAAI;AAAO,oBAAA,GAAG,EAAC,kBAAX;AAA8B,oBAAA,SAAS,EAAC,WAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADhB,EAEKA,OAAO,iBAAI;AAAO,oBAAA,KAAK,EAAC,wBAAb;AAAsC,oBAAA,IAAI,EAAC,MAA3C;AAAkD,oBAAA,IAAI,EAAC,MAAvD;AAA8D,oBAAA,MAAM,EAAEc,UAAtE;AAAkF,oBAAA,WAAW,EAAC,WAA9F;AAA0G,oBAAA,QAAQ;AAAlH;AAAA;AAAA;AAAA;AAAA,0BAFhB;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAKI;AAAK,kBAAA,KAAK,EAAC,YAAX;AAAA,0CACI;AAAO,oBAAA,GAAG,EAAC,oBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAO,oBAAA,KAAK,EAAC,wBAAb;AAAsC,oBAAA,IAAI,EAAC,MAA3C;AAAkD,oBAAA,IAAI,EAAC,OAAvD;AAA+D,oBAAA,MAAM,EAAEA,UAAvE;AAAmF,oBAAA,WAAW,EAAC,oBAA/F;AAAoH,oBAAA,QAAQ;AAA5H;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBALJ,eASI;AAAK,kBAAA,KAAK,EAAC,YAAX;AAAA,0CACI;AAAO,oBAAA,GAAG,EAAC,uBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAO,oBAAA,IAAI,EAAC,UAAZ;AAAuB,oBAAA,IAAI,EAAC,UAA5B;AAAuC,oBAAA,MAAM,EAAEA,UAA/C;AAA2D,oBAAA,WAAW,EAAC,eAAvE;AAAuF,oBAAA,KAAK,EAAC,wBAA7F;AAAsH,oBAAA,EAAE,EAAC,uBAAzH;AAAiJ,oBAAA,QAAQ;AAAzJ;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBATJ,eAaI;AAAK,kBAAA,SAAS,EAAC,QAAf;AAAA,yCACI;AAAO,oBAAA,SAAS,EAAC,8BAAjB;AAAgD,oBAAA,IAAI,EAAC,QAArD;AAA8D,oBAAA,KAAK,EAAEd,OAAO,GAAG,SAAH,GAAe;AAA3F;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAbJ,eAgBI;AAAA,4BACKA,OAAO,gBACJ;AAAA,6EAAiC;AAAG,sBAAA,SAAS,EAAC,aAAb;AAA2B,sBAAA,OAAO,EAAE,MAAMC,UAAU,CAAC,CAACD,OAAF,CAApD;AAAgE,sBAAA,IAAI,EAAC,GAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAjC;AAAA;AAAA;AAAA;AAAA;AAAA,0BADI,gBAGJ;AAAA,6EAAiC;AAAG,sBAAA,SAAS,EAAC,aAAb;AAA2B,sBAAA,OAAO,EAAE,MAAMC,UAAU,CAAC,CAACD,OAAF,CAApD;AAAgE,sBAAA,IAAI,EAAC,GAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAJR;AAAA;AAAA;AAAA;AAAA,wBAhBJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,eA0BI;AAAG,gBAAA,KAAK,EAAE;AAAEyB,kBAAAA,KAAK,EAAE;AAAT,iBAAV;AAAA,0BAA6BvB,IAAI,CAACwB;AAAlC;AAAA;AAAA;AAAA;AAAA,sBA1BJ,EA2BKxB,IAAI,CAACyB,OAAL,iBAAgB;AAAG,gBAAA,KAAK,EAAE;AAAEF,kBAAAA,KAAK,EAAE;AAAT,iBAAV;AAAA,oCAAoCzB,OAAO,GAAG,SAAH,GAAe,WAA1D;AAAA;AAAA;AAAA;AAAA;AAAA,sBA3BrB;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAgCI;AAAK,YAAA,SAAS,EAAC,oCAAf;AAAA,mCACI;AAAQ,cAAA,KAAK,EAAE;AAAE4B,gBAAAA,KAAK,EAAE;AAAT,eAAf;AAAmC,cAAA,OAAO,EAAEpB,YAA5C;AAA0D,cAAA,SAAS,EAAC,sCAApE;AAAA,sCAA2G,QAAC,eAAD;AAAiB,gBAAA,IAAI,EAAE5B;AAAvB;AAAA;AAAA;AAAA;AAAA,sBAA3G;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAhCJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAqCI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA,iCACI;AAAe,YAAA,GAAG,EAAC,2DAAnB;AACI,YAAA,UAAU,EAAC,aADf;AAEI,YAAA,KAAK,EAAC,GAFV;AAGI,YAAA,KAAK,EAAE;AAAEiD,cAAAA,MAAM,EAAE;AAAV,aAHX;AAII,YAAA,IAAI,MAJR;AAKI,YAAA,QAAQ;AALZ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBArCJ;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA6DH,CAvID;;GAAMzC,K;UAQcN,U,EACCC,W;;;KATfK,K;AAyIN,eAAeA,KAAf","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport firebase from \"firebase/app\"\r\nimport \"firebase/auth\";\r\nimport firebaseConfig from './firebase.config';\r\nimport Navbar from '../Home/Navbar/Navbar';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faUserPlus } from '@fortawesome/free-solid-svg-icons'\r\nimport { UserContext } from '../../App';\r\nimport { useHistory, useLocation } from 'react-router';\r\nimport { createUserWithEmailAndPassword, handleGoogleSignIn, initializeLoginFramework, signInWithEmailAndPassword } from './LoginForm';\r\n\r\nimport './Login.css'\r\n\r\nconst Login = () => {\r\n    if (!firebase.apps.length) {\r\n        firebase.initializeApp(firebaseConfig);\r\n    } else {\r\n        firebase.app();\r\n    }\r\n\r\n    const [loggedInUser, setLoggedInUser] = useContext(UserContext);\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const { from } = location.state || { from: { pathname: \"/\" } };\r\n\r\n\r\n\r\n\r\n    const [newUser, setNewUser] = useState(false);\r\n    const [user, setUser] = useState({\r\n        isSignedIn: false,\r\n        name: '',\r\n        email: '',\r\n        password: ''\r\n    });\r\n    initializeLoginFramework();\r\n\r\n\r\n    const googleSignIn = () => {\r\n        handleGoogleSignIn()\r\n            .then(res => {\r\n                handleResponse(res, true);\r\n            })\r\n    }\r\n\r\n    const handleResponse = (res, redirect) => {\r\n        setUser(res);\r\n        setLoggedInUser(res);\r\n        if (redirect) {\r\n            history.replace(from);\r\n        }\r\n    }\r\n\r\n    const handleBlur = (e) => {\r\n        let isFieldValid = true;\r\n        if (e.target.name === 'email') {\r\n            isFieldValid = /\\S+@\\S+\\.\\S+/.test(e.target.value);\r\n        }\r\n        else { <h1>jdhsahdkj</h1> }\r\n        if (e.target.name === 'password') {\r\n            const isPasswordValid = e.target.value.length > 6;\r\n            const passwordHasNumber = /\\d{1}/.test(e.target.value);\r\n            isFieldValid = isPasswordValid && passwordHasNumber;\r\n        }\r\n        if (isFieldValid) {\r\n            const newUserInfo = { ...user };\r\n            newUserInfo[e.target.name] = e.target.value;\r\n            setUser(newUserInfo);\r\n        }\r\n    }\r\n    const handleSubmit = (e) => {\r\n        if (newUser && user.email && user.password) {\r\n            createUserWithEmailAndPassword(user.name, user.email, user.password)\r\n                .then(res => {\r\n                    handleResponse(res, true);\r\n                })\r\n        }\r\n\r\n        if (!newUser && user.email && user.password) {\r\n            signInWithEmailAndPassword(user.email, user.password)\r\n                .then(res => {\r\n                    handleResponse(res, true);\r\n                })\r\n        }\r\n        e.preventDefault();\r\n\r\n    }\r\n    return (\r\n        <div data-testid=\"test-Login\" className=\"logIn\">\r\n            <Navbar></Navbar>\r\n            <div className=\" pt-5 text-light\">\r\n                <div className=\"text-center\">\r\n                    <h1 className=\"text-light px-5 mx-5\">Welcome To Pixel .Please Sign In With Your Google To Go Further...!!!!</h1>\r\n                </div>\r\n\r\n                <div className=\"row d-flex align-items-center justify-content-center\">\r\n                    <div className=\"col-md-6\">\r\n                        <div className=\"d-flex align-items-center justify-content-center pt-5\">\r\n                            <div id=\"booking-area\" className=\"booking-form\">\r\n                                <h1 className=\"text-center\">Pixel</h1>\r\n                                <form onSubmit={handleSubmit} x>\r\n                                    <div className=\"form-group \">\r\n                                        {newUser && <label for=\"exampleInputName\" className=\"col-md-12\">Name</label>}\r\n                                        {newUser && <input class=\"form-control text-dark\" type=\"text\" name=\"name\" onBlur={handleBlur} placeholder=\"Your Name\" required />}\r\n                                    </div>\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"exampleInputEmail1\">Email address</label>\r\n                                        <input class=\"form-control text-dark\" type=\"text\" name=\"email\" onBlur={handleBlur} placeholder=\"Your Email address\" required />\r\n                                    </div>\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"exampleInputPassword1\">Password</label>\r\n                                        <input type=\"password\" name=\"password\" onBlur={handleBlur} placeholder=\"Your Password\" class=\"form-control text-dark\" id=\"exampleInputPassword1\" required />\r\n                                    </div>\r\n                                    <div className=\"d-grid\">\r\n                                        <input className=\"btn-lg  btn-block btn-danger\" type=\"submit\" value={newUser ? 'Sign Up' : 'Sign In'} />\r\n                                    </div>\r\n                                    <div >\r\n                                        {newUser ?\r\n                                            <h5>Signed Up Already??? Ok Then <a className=\"text-danger\" onClick={() => setNewUser(!newUser)} href=\"#\">Sign In</a></h5>\r\n                                            :\r\n                                            <h5>New Here??? Become One Of Us <a className=\"text-danger\" onClick={() => setNewUser(!newUser)} href=\"#\">Sign Up</a></h5>}\r\n                                    </div>\r\n                                </form>\r\n\r\n                                <p style={{ color: 'red' }}>{user.error}</p>\r\n                                {user.success && <p style={{ color: 'green' }}>User {newUser ? 'created' : 'Logged In'} successfully</p>}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-center pt-5\">\r\n                            <button style={{ width: \"380px\" }} onClick={googleSignIn} className=\"btn btn-danger btn-block btn-lg mt-1\"><FontAwesomeIcon icon={faUserPlus} /> Sign In With Google </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                        <lottie-player src=\"https://assets5.lottiefiles.com/packages/lf20_AXoQyR.json\"\r\n                            background=\"transparent\"\r\n                            speed=\"1\"\r\n                            style={{ height: \"600px\" }}\r\n                            loop\r\n                            autoplay>\r\n                        </lottie-player>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}